class DeskiChatEnv{}DeskiChatEnv.isDevelop=function(){return document.deskichatenv||!1};class DeskiChatSiteIdProvider{}DeskiChatSiteIdProvider.get=function(){return document.deskichat};class DeskiChatHttpClient{}DeskiChatHttpClient.hostStatic=DeskiChatEnv.isDevelop()?"http://localhost:51128":"https://static.deski.ru";DeskiChatHttpClient.hostChat=DeskiChatEnv.isDevelop()?"http://localhost:51128":"https://chat.deski.ru";DeskiChatHttpClient.get=function(n,t){var r=DeskiChatHttpClient.buildUrl(n),i=new XMLHttpRequest;i.open("GET",r);i.responseType="json";i.send();i.onload=function(){i.status!=200?(console.log("Не удалось загрузить url: "+r),t(null)):t(i.response)}};DeskiChatHttpClient.buildUrl=function(n){return n.indexOf("http")==-1?DeskiChatHttpClient.buildChatUrl(n):n};DeskiChatHttpClient.buildStaticUrl=function(n){return DeskiChatHttpClient.hostStatic+n};DeskiChatHttpClient.buildChatUrl=function(n){return DeskiChatHttpClient.hostChat+n};class DeskiChatSettings{}DeskiChatSettings.expirationInterval=DeskiChatEnv.isDevelop()?1e4:9e5;DeskiChatSettings.load=function(n){var t=DeskiChatSettings.getLocal();t?n(t):DeskiChatSettings.loadFromServer(function(t){DeskiChatSettings.setLocal(t);n(t)})};DeskiChatSettings.getLocal=function(){var t=localStorage.getItem("DeskiChatSettings"),n;return t?(n=JSON.parse(t),!n||!n.loadDate||DeskiChatSettings.isExpiredSettings(n.loadDate))?null:n:null};DeskiChatSettings.setLocal=function(n){return n.loadDate=DeskiChatSettings.now(),localStorage.setItem("DeskiChatSettings",JSON.stringify(n))};DeskiChatSettings.loadFromServer=function(n){return DeskiChatHttpClient.get("/api/v0/chat/getsettings?siteId="+DeskiChatSiteIdProvider.get(),n)};DeskiChatSettings.isExpiredSettings=function(n){return n+DeskiChatSettings.expirationInterval<DeskiChatSettings.now()};DeskiChatSettings.now=function(){return(new Date).getTime()};class DeskiChatActions{}DeskiChatActions.openChat=function(){DeskiChatBuilder.openChat()};DeskiChatActions.closeChat=function(){DeskiChatBuilder.closeChat()};DeskiChatActions.showMessendgers=function(){DeskiChatBuilder.showMessendgers()};DeskiChatActions.hideMessendgers=function(){DeskiChatBuilder.hideMessendgers()};DeskiChatActions.toggleMessendgers=function(){DeskiChatBuilder.toggleMessendgers()};DeskiChatActions.closeToolTipMessage=function(){DeskiChatBuilder.closeToolTipMessage()};class DeskiChatScriptLoad{}DeskiChatScriptLoad.loadScript=function(n,t){if(!document[n]){document[n]=1;var i=document.createElement("script");i.src=t;document.body.appendChild(i)}};DeskiChatScriptLoad.loadStyle=function(n,t){if(!document[n]){document[n]=1;var i=document.createElement("link");i.rel="stylesheet";i.href=t;document.body.appendChild(i)}};class DeskiChatStyleBuilder{}DeskiChatStyleBuilder.addStyle=function(n){var t=document.createElement("style");t.innerHTML=".deski-bg-color { background-color: "+n.settings.color+" !important; }.deski-text-color { color: "+n.settings.color+" !important; }.deski-border-color { border-color: "+n.settings.color+" !important; }";document.body.appendChild(t)};class DeskiChatBuilder{}DeskiChatBuilder.settings=null;DeskiChatBuilder.addChat=function(n){DeskiChatBuilder.settings=n;DeskiChatBuilder.addChatEl();DeskiChatBuilder.addChatPrevEl();DeskiChatBuilder.showToolTipMessage()};DeskiChatBuilder.openChat=function(){var n=DeskiChatBuilder.getChatEl();n.innerHTML=DeskiChatBuilder.getOpenChat()};DeskiChatBuilder.closeChat=function(){DeskiChatBuilder.addChatPrevEl()};DeskiChatBuilder.showMessendgers=function(){var n=DeskiChatBuilder.getMessendgersEl();n.style.display="block"};DeskiChatBuilder.hideMessendgers=function(){var n=DeskiChatBuilder.getMessendgersEl();n.style.display="none"};DeskiChatBuilder.toggleMessendgers=function(){var n=DeskiChatBuilder.getMessendgersEl();n.style.display=n.style.display==="none"?"block":"none"};DeskiChatBuilder.addChatEl=function(){var n=document.createElement("ddiv");n.id="deskichat";document.body.appendChild(n)};DeskiChatBuilder.addChatPrevEl=function(){var n=document.createElement("ddiv"),t;n.id="deskichat-prev";n.onmouseenter=function(){DeskiChatActions.showMessendgers()};n.onmouseleave=function(){DeskiChatActions.hideMessendgers()};n.innerHTML=DeskiChatBuilder.getChatPrev();t=DeskiChatBuilder.getChatEl();t.innerHTML="";t.appendChild(n)};DeskiChatBuilder.showToolTipMessage=function(){DeskiChatBuilder.settings.settings.toolTipMessage&&DeskiChatBuilder.settings.settings.toolTipShowMessageSeconds&&window.setTimeout(function(){DeskiChatBuilder.getToolTipMessageEl().style.display="block"},DeskiChatBuilder.settings.settings.toolTipShowMessageSeconds*1e3)};DeskiChatBuilder.closeToolTipMessage=function(){DeskiChatBuilder.getToolTipMessageEl().style.display="none"};DeskiChatBuilder.getChatEl=function(){return document.getElementById("deskichat")};DeskiChatBuilder.getMessendgersEl=function(){return document.getElementById("deskichat-messendgers")};DeskiChatBuilder.getToolTipMessageEl=function(){return document.getElementById("deskichat-tt")};DeskiChatBuilder.getChatPrev=function(){return'<ddiv id="deskichat-messendgers" style="display: none;">'+DeskiChatBuilder.getMessendgerWhatsApp()+DeskiChatBuilder.getMessendgerViber()+DeskiChatBuilder.getMessendgerTelegram()+DeskiChatBuilder.getMessendgerVK()+DeskiChatBuilder.getMessendgerChat()+"<\/ddiv>"+DeskiChatBuilder.getToolTipMessage()+DeskiChatBuilder.getChatPrevIcon()};DeskiChatBuilder.getChatPrevIcon=function(){return'<ddiv class="deski-prev deski-bg-color deski-border-color deski-cursor-pointer" onclick="DeskiChatActions.'+(DeskiChatBuilder.hasMessendgers()?"toggleMessendgers":"openChat")+'()"><ddiv class="deski-prev-inner"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="deski-prev-img"><path fill="#fff" d="M532 386.2c27.5-27.1 44-61.1 44-98.2 0-80-76.5-146.1-176.2-157.9C368.3 72.5 294.3 32 208 32 93.1 32 0 103.6 0 192c0 37 16.5 71 44 98.2-15.3 30.7-37.3 54.5-37.7 54.9-6.3 6.7-8.1 16.5-4.4 25 3.6 8.5 12 14 21.2 14 53.5 0 96.7-20.2 125.2-38.8 9.2 2.1 18.7 3.7 28.4 4.9C208.1 407.6 281.8 448 368 448c20.8 0 40.8-2.4 59.8-6.8C456.3 459.7 499.4 480 553 480c9.2 0 17.5-5.5 21.2-14 3.6-8.5 1.9-18.3-4.4-25-.4-.3-22.5-24.1-37.8-54.8zm-392.8-92.3L122.1 305c-14.1 9.1-28.5 16.3-43.1 21.4 2.7-4.7 5.4-9.7 8-14.8l15.5-31.1L77.7 256C64.2 242.6 48 220.7 48 192c0-60.7 73.3-112 160-112s160 51.3 160 112-73.3 112-160 112c-16.5 0-33-1.9-49-5.6l-19.8-4.5zM498.3 352l-24.7 24.4 15.5 31.1c2.6 5.1 5.3 10.1 8 14.8-14.6-5.1-29-12.3-43.1-21.4l-17.1-11.1-19.9 4.6c-16 3.7-32.5 5.6-49 5.6-54 0-102.2-20.1-131.3-49.7C338 339.5 416 272.9 416 192c0-3.4-.4-6.7-.7-10C479.7 196.5 528 238.8 528 288c0 28.7-16.2 50.6-29.7 64z"/><\/svg><\/ddiv><\/ddiv>'};DeskiChatBuilder.getMessendgerWhatsApp=function(){return DeskiChatBuilder.settings.settings.whatsAppUrl?'<ddiv class="deski-messendger deski-messendger-whats-app deski-cursor-pointer" onclick="window.open(\''+DeskiChatBuilder.settings.settings.whatsAppUrl+'\')" title="WhatsApp"><ddiv class="deski-messendger-whats-app-inner"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 105 105" class="deski-messendger-img"><path fill="#fff" d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"/><\/svg><\/ddiv><\/ddiv>':""};DeskiChatBuilder.getMessendgerViber=function(){return DeskiChatBuilder.settings.settings.viberUrl?'<ddiv class="deski-messendger deski-messendger-viber deski-cursor-pointer" onclick="window.open(\''+DeskiChatBuilder.settings.settings.viberUrl+'\')" title="Viber"><ddiv class="deski-messendger-viber-inner"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 105 105" class="deski-messendger-img"><path fill="#fff" d="M444 49.9C431.3 38.2 379.9.9 265.3.4c0 0-135.1-8.1-200.9 52.3C27.8 89.3 14.9 143 13.5 209.5c-1.4 66.5-3.1 191.1 117 224.9h.1l-.1 51.6s-.8 20.9 13 25.1c16.6 5.2 26.4-10.7 42.3-27.8 8.7-9.4 20.7-23.2 29.8-33.7 82.2 6.9 145.3-8.9 152.5-11.2 16.6-5.4 110.5-17.4 125.7-142 15.8-128.6-7.6-209.8-49.8-246.5zM457.9 287c-12.9 104-89 110.6-103 115.1-6 1.9-61.5 15.7-131.2 11.2 0 0-52 62.7-68.2 79-5.3 5.3-11.1 4.8-11-5.7 0-6.9.4-85.7.4-85.7-.1 0-.1 0 0 0-101.8-28.2-95.8-134.3-94.7-189.8 1.1-55.5 11.6-101 42.6-131.6 55.7-50.5 170.4-43 170.4-43 96.9.4 143.3 29.6 154.1 39.4 35.7 30.6 53.9 103.8 40.6 211.1zm-139-80.8c.4 8.6-12.5 9.2-12.9.6-1.1-22-11.4-32.7-32.6-33.9-8.6-.5-7.8-13.4.7-12.9 27.9 1.5 43.4 17.5 44.8 46.2zm20.3 11.3c1-42.4-25.5-75.6-75.8-79.3-8.5-.6-7.6-13.5.9-12.9 58 4.2 88.9 44.1 87.8 92.5-.1 8.6-13.1 8.2-12.9-.3zm47 13.4c.1 8.6-12.9 8.7-12.9.1-.6-81.5-54.9-125.9-120.8-126.4-8.5-.1-8.5-12.9 0-12.9 73.7.5 133 51.4 133.7 139.2zM374.9 329v.2c-10.8 19-31 40-51.8 33.3l-.2-.3c-21.1-5.9-70.8-31.5-102.2-56.5-16.2-12.8-31-27.9-42.4-42.4-10.3-12.9-20.7-28.2-30.8-46.6-21.3-38.5-26-55.7-26-55.7-6.7-20.8 14.2-41 33.3-51.8h.2c9.2-4.8 18-3.2 23.9 3.9 0 0 12.4 14.8 17.7 22.1 5 6.8 11.7 17.7 15.2 23.8 6.1 10.9 2.3 22-3.7 26.6l-12 9.6c-6.1 4.9-5.3 14-5.3 14s17.8 67.3 84.3 84.3c0 0 9.1.8 14-5.3l9.6-12c4.6-6 15.7-9.8 26.6-3.7 14.7 8.3 33.4 21.2 45.8 32.9 7 5.7 8.6 14.4 3.8 23.6z"/><\/svg><\/ddiv><\/ddiv>':""};DeskiChatBuilder.getMessendgerTelegram=function(){return DeskiChatBuilder.settings.settings.telegramUrl?'<ddiv class="deski-messendger deski-messendger-telegram deski-cursor-pointer" onclick="window.open(\''+DeskiChatBuilder.settings.settings.telegramUrl+'\')" title="Telegram"><ddiv class="deski-messendger-telegram-inner"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 105 105" class="deski-messendger-img"><path fill="#fff" d="M446.7 98.6l-67.6 318.8c-5.1 22.5-18.4 28.1-37.3 17.5l-103-75.9-49.7 47.8c-5.5 5.5-10.1 10.1-20.7 10.1l7.4-104.9 190.9-172.5c8.3-7.4-1.8-11.5-12.9-4.1L117.8 284 16.2 252.2c-22.1-6.9-22.5-22.1 4.6-32.7L418.2 66.4c18.4-6.9 34.5 4.1 28.5 32.2z"/><\/svg><\/ddiv><\/ddiv>':""};DeskiChatBuilder.getMessendgerVK=function(){return DeskiChatBuilder.settings.settings.vkUrl?'<ddiv class="deski-messendger deski-messendger-vk deski-cursor-pointer" onclick="window.open(\''+DeskiChatBuilder.settings.settings.vkUrl+'\')" title="ВКонтакте"><ddiv class="deski-messendger-vk-inner"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120" class="deski-messendger-img"><path fill="#fff" d="M545 117.7c3.7-12.5 0-21.7-17.8-21.7h-58.9c-15 0-21.9 7.9-25.6 16.7 0 0-30 73.1-72.4 120.5-13.7 13.7-20 18.1-27.5 18.1-3.7 0-9.4-4.4-9.4-16.9V117.7c0-15-4.2-21.7-16.6-21.7h-92.6c-9.4 0-15 7-15 13.5 0 14.2 21.2 17.5 23.4 57.5v86.8c0 19-3.4 22.5-10.9 22.5-20 0-68.6-73.4-97.4-157.4-5.8-16.3-11.5-22.9-26.6-22.9H38.8c-16.8 0-20.2 7.9-20.2 16.7 0 15.6 20 93.1 93.1 195.5C160.4 378.1 229 416 291.4 416c37.5 0 42.1-8.4 42.1-22.9 0-66.8-3.4-73.1 15.4-73.1 8.7 0 23.7 4.4 58.7 38.1 40 40 46.6 57.9 69 57.9h58.9c16.8 0 25.3-8.4 20.4-25-11.2-34.9-86.9-106.7-90.3-111.5-8.7-11.2-6.2-16.2 0-26.2.1-.1 72-101.3 79.4-135.6z"/><\/svg><\/ddiv><\/ddiv>':""};DeskiChatBuilder.getMessendgerChat=function(){return DeskiChatBuilder.hasMessendgers()?'<ddiv class="deski-messendger deski-messendger-chat deski-bg-color deski-border-color deski-cursor-pointer" onclick="DeskiChatActions.openChat()" title="Чат"><ddiv class="deski-messendger-chat-inner"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 130 130" class="deski-messendger-img"><path fill="#fff" d="M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 7.1 5.8 12 12 12 2.4 0 4.9-.7 7.1-2.4L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64zm16 352c0 8.8-7.2 16-16 16H288l-12.8 9.6L208 428v-60H64c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h384c8.8 0 16 7.2 16 16v288z"/><\/svg><\/ddiv><\/ddiv>':""};DeskiChatBuilder.getToolTipMessage=function(){return'<ddiv id="deskichat-tt" style="display: none;"><ddiv class="deskichat-tt-block deski-border-color">'+DeskiChatBuilder.settings.settings.toolTipMessage+'<\/ddiv><ddiv class="deskichat-tt-close deski-bg-color deski-border-color deski-cursor-pointer" onclick="DeskiChatActions.closeToolTipMessage()"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 315 315" class="deskichat-tt-close-img"><path fill="#fff" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"/><\/svg><\/ddiv><\/ddiv>'};DeskiChatBuilder.getOpenChat=function(){var n=DeskiChatBuilder.settings.resourses.siteId,t=DeskiChatHttpClient.buildChatUrl("/"+n+"/");return'<ddiv class="deski-chat"><ddiv class="deski-chat-close deski-bg-color deski-border-color deski-cursor-pointer" onclick="DeskiChatActions.closeChat()"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 115 115" class="deski-chat-close-img"><path fill="#fff" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"/><\/svg><\/ddiv><ddiv class="deski-chat-inner deski-border-color"><iframe src="'+t+'" class="deski-chat-frame" frameborder="0"><\/iframe><\/ddiv><\/ddiv>'};DeskiChatBuilder.hasMessendgers=function(){return!!DeskiChatBuilder.settings.settings.whatsAppUrl||!!DeskiChatBuilder.settings.settings.viberUrl||!!DeskiChatBuilder.settings.settings.telegramUrl||!!DeskiChatBuilder.settings.settings.vkUrl};class DeskiChat{}DeskiChat.init=function(){DeskiChatSettings.load(function(n){DeskiChat.showChat(n)})};DeskiChat.showChat=function(n){n.resourses.hasChat&&(DeskiChatScriptLoad.loadStyle("deski-chat-css",DeskiChatHttpClient.buildStaticUrl("/css/chat.min.css")),DeskiChatStyleBuilder.addStyle(n),window.setTimeout(function(){DeskiChatBuilder.addChat(n)},1e3))};DeskiChat.init();